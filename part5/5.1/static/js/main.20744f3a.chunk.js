(this["webpackJsonpbloglist-frontend"]=this["webpackJsonpbloglist-frontend"]||[]).push([[0],{41:function(t,e,n){"use strict";n.r(e);var r=n(2),a=n(16),c=n.n(a),s=n(3),u=n.n(s),i=n(4),o=n(5),l=n(0),b=function(t){var e=t.blog;return Object(l.jsxs)("div",{children:[e.title," ",e.author]})},j=n(6),p=n.n(j),d=null,f={getAll:function(){var t=Object(i.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.get("/api/blogs",{headers:{Authorization:d}});case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),setToken:function(t){d="bearer ".concat(t)}},h=function(){var t=Object(i.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.post("/api/login",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(r.useState)([]),e=Object(o.a)(t,2),n=e[0],a=e[1],c=Object(r.useState)(""),s=Object(o.a)(c,2),j=s[0],p=s[1],d=Object(r.useState)(""),O=Object(o.a)(d,2),v=O[0],x=O[1],g=Object(r.useState)(null),m=Object(o.a)(g,2),w=m[0],k=m[1];Object(r.useEffect)((function(){f.getAll().then((function(t){return a(t)}))}),[w]);var y=function(){var t=Object(i.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,h.login({username:j,password:v});case 3:n=t.sent,f.setToken(n.token),k(n),p(""),x("");case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return null===w?Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"log in to application"}),Object(l.jsxs)("form",{onSubmit:y,children:[Object(l.jsxs)("div",{children:["username",Object(l.jsx)("input",{value:j,onChange:function(t){var e=t.target;return p(e.value)}})]}),Object(l.jsxs)("div",{children:["password",Object(l.jsx)("input",{value:v,onChange:function(t){var e=t.target;return x(e.value)}})]}),Object(l.jsx)("button",{type:"submit",children:"login"})]})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{children:"blogs"}),Object(l.jsxs)("div",{children:[w.username," logged in"]}),Object(l.jsx)("br",{}),n.map((function(t){return Object(l.jsx)(b,{blog:t},t.id)}))]})};c.a.render(Object(l.jsx)(O,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.20744f3a.chunk.js.map