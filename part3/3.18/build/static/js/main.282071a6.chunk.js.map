{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","value","onChange","PersonForm","onSubmit","nameValue","onNameChange","numberValue","onNumberChange","type","Persons","persons","deletePersonOf","map","id","name","number","onClick","Notification","message","content","className","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setMessage","useEffect","personService","initialNotes","filterPersons","filter","toLowerCase","includes","event","target","preventDefault","personObject","person","find","x","window","confirm","returnedNote","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.282071a6.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ value, onChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with\r\n      <input value={value} onChange={onChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({\r\n    onSubmit,\r\n    nameValue, onNameChange,\r\n    numberValue, onNumberChange\r\n  }) => {\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <div>\r\n        name:\r\n        <input value={nameValue} onChange={onNameChange} />\r\n      </div>\r\n      <div>\r\n        number:\r\n        <input value={numberValue} onChange={onNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ persons, deletePersonOf }) => {\r\n  return (\r\n    <div>\r\n      {persons.map(({ id, name, number }) =>\r\n        <div key={id}>\r\n          {name} {number}\r\n          <button onClick={() => deletePersonOf(id)}>delete</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  const { content, type } = message\r\n  if (!content)\r\n    return null\r\n\r\n  return (\r\n    <div className={type}>{content}</div>\r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n// const baseUrl = 'http://localhost:3001/api/persons'\r\nconst baseUrl = 'https://obscure-citadel-14591.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios\r\n    .get(baseUrl)\r\n    .then(response => response.data)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  return axios\r\n    .post(baseUrl, newObject)\r\n    .then(response => response.data)\r\n}\r\n\r\nconst _delete = (id) => {\r\n  return axios\r\n    .delete(`${baseUrl}/${id}`)\r\n    .then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios\r\n    .put(`${baseUrl}/${id}`, newObject)\r\n    .then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, _delete, update }","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\n\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewFilter ] = useState('')\r\n  const [ message, setMessage ] = useState({})\r\n\r\n  useEffect(() => {\r\n    personService\r\n      .getAll()\r\n      .then(initialNotes => setPersons(initialNotes))\r\n  }, [])\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n    const personObject = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n    const person = persons.find(x => x.name === newName)\r\n    if (person) {\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        personService\r\n          .update(person.id, personObject)\r\n          .then(returnedNote => {\r\n            setPersons(persons.map(x => x.name === newName ? returnedNote : x))\r\n            setMessage({ content: `Updated ${newName}`, type: 'success' })\r\n            setTimeout(() => {\r\n              setMessage({})\r\n            }, 5000)\r\n          })\r\n          .catch(error => {\r\n            setMessage({ content: `Note ${newName} was already removed from server`, type: 'error' })\r\n          })\r\n      }\r\n    } else {\r\n      personService\r\n        .create(personObject)\r\n        .then(returnedNote => {\r\n          setPersons(persons.concat(returnedNote))\r\n          setMessage({ content: `Added ${newName}`, type: 'success' })\r\n          setTimeout(() => {\r\n            setMessage({})\r\n          }, 5000)\r\n        })\r\n    }\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const deletePersonOf = (id) => {\r\n    const person = persons.find(x => x.id === id)\r\n    if (window.confirm(`Delete ${person.name}?`)) {\r\n      personService\r\n        ._delete(id)\r\n        .then(returnedNote => {\r\n          setPersons(persons.filter(x => x.id !== id))\r\n        })\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => setNewName(event.target.value)\r\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\r\n  const handleFilterChange = (event) => setNewFilter(event.target.value)\r\n\r\n  const filterPersons = newFilter === ''\r\n    ? persons\r\n    : persons.filter(({name}) => name.toLowerCase().includes(newFilter))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Notification message={message} />\r\n      <Filter value={newFilter} onChange={handleFilterChange} />\r\n\r\n      <h3>add a new</h3>\r\n      <PersonForm\r\n        onSubmit={addPerson}\r\n        nameValue={newName}\r\n        onNameChange={handleNameChange}\r\n        numberValue={newNumber}\r\n        onNumberChange={handleNumberChange}\r\n      />\r\n\r\n      <h3>Numbers</h3>\r\n      <Persons persons={filterPersons} deletePersonOf={deletePersonOf} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}