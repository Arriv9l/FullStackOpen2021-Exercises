{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","value","onChange","PersonForm","onSubmit","nameValue","onNameChange","numberValue","onNumberChange","type","Persons","persons","deletePersonOf","map","id","name","number","onClick","Notification","message","content","className","baseUrl","personService","getAll","axios","get","then","response","data","create","newObject","post","_delete","delete","update","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setMessage","useEffect","initialNotes","filterPersons","filter","toLowerCase","includes","event","target","preventDefault","personObject","person","find","x","window","confirm","returnedNote","setTimeout","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.51492572.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ value, onChange }) => {\n  return (\n    <div>\n      filter shown with\n      <input value={value} onChange={onChange} />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({\n    onSubmit,\n    nameValue, onNameChange,\n    numberValue, onNumberChange\n  }) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        name:\n        <input value={nameValue} onChange={onNameChange} />\n      </div>\n      <div>\n        number:\n        <input value={numberValue} onChange={onNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Persons = ({ persons, deletePersonOf }) => {\n  return (\n    <div>\n      {persons.map(({ id, name, number }) =>\n        <div key={id}>\n          {name} {number}\n          <button onClick={() => deletePersonOf(id)}>delete</button>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = ({ message }) => {\n  const { content, type } = message\n  if (!content)\n    return null\n\n  return (\n    <div className={type}>{content}</div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/persons'\n\nconst getAll = () => {\n  return axios\n    .get(baseUrl)\n    .then(response => response.data)\n}\n\nconst create = (newObject) => {\n  return axios\n    .post(baseUrl, newObject)\n    .then(response => response.data)\n}\n\nconst _delete = (id) => {\n  return axios\n    .delete(`${baseUrl}/${id}`)\n    .then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  return axios\n    .put(`${baseUrl}/${id}`, newObject)\n    .then(response => response.data)\n}\n\nconst personService = { getAll, create, _delete, update }\n\nexport default personService","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ message, setMessage ] = useState({})\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialNotes => setPersons(initialNotes))\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n    const person = persons.find(x => x.name === newName)\n    if (person) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        personService\n          .update(person.id, personObject)\n          .then(returnedNote => {\n            setPersons(persons.map(x => x.name === newName ? returnedNote : x))\n            setMessage({ content: `Updated ${newName}`, type: 'success' })\n            setTimeout(() => {\n              setMessage({})\n            }, 5000)\n          })\n          .catch(error => {\n            setMessage({ content: `Note ${newName} was already removed from server`, type: 'error' })\n          })\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(returnedNote => {\n          setPersons(persons.concat(returnedNote))\n          setMessage({ content: `Added ${newName}`, type: 'success' })\n          setTimeout(() => {\n            setMessage({})\n          }, 5000)\n        })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const deletePersonOf = (id) => {\n    const person = persons.find(x => x.id === id)\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personService\n        ._delete(id)\n        .then(returnedNote => {\n          setPersons(persons.filter(x => x.id !== id))\n        })\n    }\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setNewFilter(event.target.value)\n\n  const filterPersons = newFilter === ''\n    ? persons\n    : persons.filter(({name}) => name.toLowerCase().includes(newFilter))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} />\n      <Filter value={newFilter} onChange={handleFilterChange} />\n\n      <h3>add a new</h3>\n      <PersonForm\n        onSubmit={addPerson}\n        nameValue={newName}\n        onNameChange={handleNameChange}\n        numberValue={newNumber}\n        onNumberChange={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n      <Persons persons={filterPersons} deletePersonOf={deletePersonOf} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}